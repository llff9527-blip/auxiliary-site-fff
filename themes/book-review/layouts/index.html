{{ define "main" }}
<div class="home">
    <!-- ç«™ç‚¹ä»‹ç» -->
    <section class="site-intro">
        <h1>{{ .Site.Title }}</h1>
        {{ with .Site.Params.description }}
        <p class="site-description">{{ . }}</p>
        {{ end }}
    </section>

    <!-- æœ€æ–°ä¹¦è¯„ -->
    <section class="recent-reviews">
        <h2>æœ€æ–°ä¹¦è¯„</h2>

        <div class="reviews-grid">
            {{ range first 12 (where .Site.RegularPages "Type" "reviews") }}
            <article class="review-card">
                <a href="{{ .Permalink }}" class="review-link">
                    <!-- ä¹¦ç±å°é¢ -->
                    {{ with .Params.book_image }}
                    <img src="{{ . | absURL }}" alt="{{ $.Params.book_title | default $.Title }}" class="review-cover">
                    {{ else }}
                    <div class="review-cover-placeholder">
                        <span>ðŸ“š</span>
                    </div>
                    {{ end }}

                    <!-- ä¹¦è¯„ä¿¡æ¯ -->
                    <div class="review-info">
                        <h3 class="review-card-title">{{ .Params.book_title | default .Title }}</h3>

                        {{ with .Params.author }}
                        <p class="review-author">{{ . }}</p>
                        {{ end }}

                        {{ with .Params.rating }}
                        <div class="review-card-rating">
                            <span class="rating-stars">
                                {{ range seq (int .) }}â˜…{{ end }}{{ range seq (sub 5 (int $.Params.rating)) }}â˜†{{ end }}
                            </span>
                            <span class="rating-value">({{ . }}/5)</span>
                        </div>
                        {{ end }}

                        <p class="review-summary">{{ .Summary | plainify | truncate 120 }}</p>

                        <time class="review-date" datetime="{{ .Date.Format "2006-01-02" }}">
                            {{ .Date.Format "2006å¹´01æœˆ02æ—¥" }}
                        </time>
                    </div>
                </a>
            </article>
            {{ end }}
        </div>
    </section>
</div>
{{ end }}
